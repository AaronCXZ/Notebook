# go与web编程
**一个程序满足一下两个条件就可以被看做是一个web应用**
+ 这个应用程序必须向发送命令请求的客户端返回HTML，而客户端则会向用户展示渲染后的HTML。
+ 这个程序在向客户端传送数据时必须使用HTTP协议。
---
**HTTP简介**
- HTTP是一种无状态、由文本构成的请求-响应(request-response)协议，这种协议使用的是客户端-服务器(client-server)计算模型
---
###HTTP请求
1. 请求行(request-line);
2. 零个或任意多个请求首部(header);
3. 一个空行;
4. 可选的报文主体(bdy);
---
**请求方法**
+ GET：命令服务器返回指定的资源。
+ HEAD：与GET方法类似，唯一不同的在于这个方法不要求服务器返回报文的主体。这个方法通常用于在不获取报文主体的情况下取得相应的首部。
+ POST：命令服务器将报文主体中的数据传输给URI指定的资源，至于服务器具体会对这些数据执行什么动作则取决于服务器本身。
+ PUT：命令服务器将报文主体的数据设置为URL指定的资源。如果URI指定的位置上已经有数据存在，那么使用报文主体中的数据代替已有的数据。如果资源尚未存在，那么在URI指定的位置上新创建一个资源。
+ DELETE：命令服务器删除URI指定的资源、
+ TRACE：命令服务器返回请求本身。通过这个方法，客户端可以住到介于它的服务器之间的其他服务器是如何处理请求的。
+ OPTIONS：命令服务器返回它支持的HTTP方法列表。
+ CONNECT：命令服务器与客户端建立一个网络连接。这个方法通常用于设置SSl隧道已开启HTTPS功能。
+ PATCh：命令服务器使用报文主体的数据对URI指定的资源进行修改。
---
- 安全的请求方法：GET、HEAD、OPTIONS、TRACE
- 不安全的请求方法：POST、DELETE、PUT
- 等幂的请求方法：GET、HEAD、OPTIONS、TRACE，DELETE，PUT
---
**常见的HTTP请求首部**
+ Accept：客户端在HTTP响应中能够接受的内容类型
+ Accept-Charset：客户端请求服务器使用的字符集编码
+ Authentication：应用向服务器发送基本的身份认证证书
+ Cookie：客户端应该在这这个首部中吧服务器之前设置的所有cookie回传给服务器
+ Context-Length：请求主体的字节长度
+ Context-Type： 当请求包含主体的时候，这个首部用于记录主体内容的类型
+ Host：服务器的名字以及端口号
+ Referrer：发起请求的页面所在的地址
+ User-Agent：对发起请求的客户端进行描述
---
###HTTP响应
1. 一个状态行
2. 零个或任意数量的响应首部
3. 一个空行
4. 一个可选的报文主体
---
**常见的HTTP响应首部**
+ Allow：告知客户端、服务器支持哪些请求方法
+ Context-Length：响应主体的字节长度
+ Context-Type：主体内容的类型
+ Date：已格林威治时间(GMT)格式记录的当前时间
+ Location：这个首部在重定向时使用，它会告知客户端接下来应该向哪个 URL发动请求
+ Server：返回响应的服务器的域名
+ Set-Cookie：在客户端里设置一个cookie。一个响应里可以包含多个Set-Cookie首部
+ WWW-Authenticate：服务器通过这个首部来告知客户端，在Authorization请求首部中应该提供哪种类型的身份认证信息
###web应用的各个组成部分
1. 处理器(handler)
  - 除了接受和处理咖啡店发来的请求，还要调用模板引擎，然后由模板引擎生成HTML并把数据填充至要回传给客户端的响应报文当中
  - 在MVC模式中处理器既是控制器(controller)，也是模型(model)
     + 控制器应该是苗条的，应该是包含路由(routing)代码以及HTTP报文的解包和打包逻辑
     + 模型应该是丰满的，应该包含应用的逻辑以及数据
2. 模板引擎(template engine)
  - 静态模板：一些夹杂着占位符的HTML，静态模板引擎通过将静态模板中的占位符替换成相应的数据来生成最终的HTML
  - 动态模板：除了包含HTML和占位符之外，还包含一些编程语言的结构，如条件语句、迭代语句和变量。

